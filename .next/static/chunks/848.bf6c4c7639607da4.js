"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[848],{848:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var r=s(5155),l=s(2115),n=s(5695),a=s(2108),i=s(4624),o=s(2085),d=s(2596),c=s(9688);let u=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=l.forwardRef((e,t)=>{let{className:s,variant:l,size:n,asChild:a=!1,...o}=e,m=a?i.DX:"button";return(0,r.jsx)(m,{className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,c.QP)((0,d.$)(t))}(u({variant:l,size:n,className:s})),ref:t,...o})});function h(e){let{isOpen:t,toggle:s}=e;return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("button",{onClick:s,className:"text-purple-400 hover:underline focus:outline-none",children:["\uD83D\uDC49 ",t?"Hide Details":"Learn More About Basic Plan"]}),t&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-[#29293d] text-white rounded-lg",children:[(0,r.jsx)("h4",{className:"text-lg font-bold",children:"\uD83C\uDD93 Basic Plan"}),(0,r.jsx)("p",{className:"text-purple-300",children:"Free Forever"}),(0,r.jsx)("p",{className:"mt-1",children:"Ideal For: Exploring the core experience"}),(0,r.jsxs)("ul",{className:"mt-2 text-sm text-purple-200 list-disc ml-4 space-y-1",children:[(0,r.jsx)("li",{children:"✅ 5 Try-Ons per Month + Matching Analysis"}),(0,r.jsx)("li",{children:"✅ Style Quiz & Outfit Save"}),(0,r.jsx)("li",{children:"✅ 15 Styles in the Digital Wardrobe"}),(0,r.jsx)("li",{children:"\uD83D\uDEAB No Personalized Stylist Assistant"})]})]})]})}function x(){let[e,t]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("button",{onClick:()=>t(!e),className:"text-purple-400 hover:underline focus:outline-none",children:"\uD83D\uDC49 Learn More About Elite Plan"}),e&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-[#29293d] text-white rounded-lg",children:[(0,r.jsx)("h4",{className:"text-lg font-bold",children:"\uD83D\uDC51 Elite Plan"}),(0,r.jsx)("p",{className:"text-purple-300",children:"Coming Soon"}),(0,r.jsx)("p",{className:"mt-1",children:"Ideal For: Power users, influencers & fashion creators"}),(0,r.jsxs)("ul",{className:"mt-2 text-sm text-purple-200 list-disc ml-4 space-y-1",children:[(0,r.jsx)("li",{children:"✅ Unlimited Try-Ons + Matching Analysis"}),(0,r.jsx)("li",{children:"✅ Unlimited Personalized Stylist Assistant"}),(0,r.jsx)("li",{children:"✅ Wardrobe Tracker + Body Tracker"}),(0,r.jsx)("li",{children:"✅ Unlimited Styles in the Digital Wardrobe"}),(0,r.jsx)("li",{children:"✅ Exclusive Outfits"})]}),(0,r.jsx)("p",{className:"mt-2 text-yellow-400",children:"\uD83D\uDCAC Be the first to experience Elite benefits"})]})]})}function p(e){let{isOpen:t,toggle:s}=e;return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("button",{onClick:s,className:"text-purple-400 hover:underline focus:outline-none",children:["\uD83D\uDC49 ",t?"Hide Details":"Learn More About Pro Plan"]}),t&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-[#29293d] text-white rounded-lg",children:[(0,r.jsx)("h4",{className:"text-lg font-bold",children:"\uD83D\uDD25 Pro Plan"}),(0,r.jsx)("p",{className:"text-purple-300",children:"→ Promo Rp59,999"}),(0,r.jsx)("p",{className:"mt-1",children:"Ideal For: Fashion-savvy users who want full personalization"}),(0,r.jsxs)("ul",{className:"mt-2 text-sm text-purple-200 list-disc ml-4 space-y-1",children:[(0,r.jsx)("li",{children:"✅ 25 Try-Ons per Month + Matching Analysis"}),(0,r.jsx)("li",{children:"✅ 40 Personalized Stylist Assistant"}),(0,r.jsx)("li",{children:"✅ Compare Looks Side-by-Side"}),(0,r.jsx)("li",{children:"✅ 40 Styles in the Digital Wardrobe"}),(0,r.jsx)("li",{children:"\uD83D\uDEAB Exclusive Outfits"}),(0,r.jsx)("li",{children:"\uD83D\uDEAB Wardrobe Tracker + Body Tracker"})]}),(0,r.jsx)("p",{className:"mt-2 text-yellow-400",children:"\uD83D\uDCAC Most Popular – Save Rp15,000 now"})]})]})}function g(e){let{onSelectPlan:t}=e,[s,n]=(0,l.useState)(null),a=e=>{n(t=>t===e?null:e)};return(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-white mb-6",children:"Choose Your Plan"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[{name:"Basic (Free)",price:"Rp. 0/mo",features:["5 Try-Ons/month","Matching Analysis"],promo:null,buttonText:"Continue with Basic Plan",LearnMoreComponent:h},{name:"Lite Plan",price:"Rp. 29,999/mo",features:["10 Try-Ons/month","Color Harmony Tips","Style Suggestions"],promo:"\uD83D\uDD13 Promo Price! 40% OFF",buttonText:"Upgrade to Lite – Rp.29,999",LearnMoreComponent:x},{name:"Pro Plan",price:"Rp. 59,999/mo",features:["25 Try-Ons/month","AI Stylist Assistant","Compare Looks Side-by-Side","Digital Wardrobe (Beta)"],promo:"\uD83D\uDD13 Promo Price! Save Rp.15,000",buttonText:"Upgrade to Pro – Rp.59,999",LearnMoreComponent:p},{name:"\uD83D\uDC51 Elite Plan",price:"Coming Soon",features:["Unlimited Try-Ons + Matching Analysis","Unlimited Personalized Stylist Assistant","Wardrobe Tracker + Body Tracker","Unlimited Styles in the Digital Wardrobe","Exclusive Outfits"],promo:"\uD83D\uDCAC Be the first to experience Elite benefits",buttonText:"Notify Me on Launch",LearnMoreComponent:x}].map((e,l)=>{let n=e.LearnMoreComponent;return(0,r.jsxs)("div",{className:"border border-purple-600 bg-[#1a1a2e] text-white rounded-xl p-5 shadow-lg flex flex-col justify-between w-full min-w-[280px] max-w-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,r.jsx)("p",{className:"text-lg text-purple-300 mt-1",children:e.price}),(0,r.jsx)("ul",{className:"mt-3 text-sm text-purple-200 list-disc ml-4 space-y-1",children:e.features.map((e,t)=>(0,r.jsxs)("li",{children:["✅ ",e]},t))}),e.promo&&(0,r.jsx)("p",{className:"mt-3 text-yellow-400",children:e.promo})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)(m,{onClick:()=>t(e.name),className:"w-full bg-gradient-to-r from-purple-700 to-indigo-600 text-white px-4 py-2 rounded-full text-sm hover:opacity-90",children:e.buttonText}),(0,r.jsx)(n,{isOpen:s===l,toggle:()=>a(l)})]})]},l)})})]})}m.displayName="Button";var f=s(4923),y=s(9509);let b=()=>{var e;let t=(0,n.useRouter)(),{data:s,status:i}=(0,a.useSession)(),{setMatchingAnalysis:o}=(0,f.T)(),[d,c]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),[h,x]=(0,l.useState)(null),[p,b]=(0,l.useState)(null),[j,v]=(0,l.useState)(!1),[N,w]=(0,l.useState)(null),[P,D]=(0,l.useState)(null),[S,C]=(0,l.useState)(0),[k,A]=(0,l.useState)(!1),T=null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.email;(0,l.useEffect)(()=>{if(!T||"authenticated"!==i)return;let e=sessionStorage.getItem("tryOnCount");e&&C(parseInt(e))},[T,i]);let E=async()=>{if(!d||!u){D("Please upload both images first.");return}if("authenticated"!==i){alert("You need to log in to analyze fit."),(0,a.signIn)();return}v(!0),D(null);try{let e=new FormData;e.append("userImage",d),e.append("apparelImage",u),e.append("userEmail",T);let s=await fetch("https://asia-southeast2-positive-rhino-454912-k2.cloudfunctions.net/matchingAnalyzer",{method:"POST",body:e});if(!s.ok)throw Error("Network response was not ok");let r=await s.json();if(null==r?void 0:r.analysis)o(r.analysis),t.push("/matchingAnalysis");else throw Error("No analysis in response")}catch(e){console.error("Error during matching analysis:",e),D("Failed to analyze fit. Please try again.")}finally{v(!1)}},O=async()=>{if(!d||!u){D("Please upload both images first.");return}if("authenticated"!==i){alert("You need to log in to generate a try-on result."),(0,a.signIn)();return}if(S>=3){A(!0);return}v(!0),D(null);try{let e=new FormData;e.append("userImage",d),e.append("apparelImage",u),e.append("userEmail",T);let t=await fetch(y.env.NEXT_PUBLIC_FYUSEAPI,{method:"POST",body:e});if(!t.ok)throw Error("Network response was not ok");let s=await t.json();if(null==s?void 0:s.generatedImageUrl){w(s.generatedImageUrl);let e=S+1;C(e),sessionStorage.setItem("tryOnCount",e.toString())}else throw Error("No generated image URL in response")}catch(e){console.error("Error during try-on:",e),D("Failed to generate try-on. Please try again.")}finally{v(!1)}};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full space-y-8",children:[k?(0,r.jsx)(g,{onClose:()=>A(!1)}):(0,r.jsxs)("div",{className:"bg-[#1a1a2f] w-full max-w-4xl rounded-lg shadow-md p-8 space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-medium text-white text-center mb-4",children:"Step 1: Upload Your Photos"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Your Photo"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];t&&(c(t),x(URL.createObjectURL(t)))},className:"hidden",id:"userPhoto"}),(0,r.jsx)("label",{htmlFor:"userPhoto",className:"cursor-pointer",children:h?(0,r.jsx)("img",{src:h,alt:"User Preview",className:"mx-auto max-h-48 object-contain rounded-lg"}):(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-48",children:(0,r.jsx)("p",{className:"text-white",children:"Click to upload"})})})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Clothing Item"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];t&&(m(t),b(URL.createObjectURL(t)))},className:"hidden",id:"apparelPhoto"}),(0,r.jsx)("label",{htmlFor:"apparelPhoto",className:"cursor-pointer",children:p?(0,r.jsx)("img",{src:p,alt:"Apparel Preview",className:"mx-auto max-h-48 object-contain rounded-lg"}):(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-48",children:(0,r.jsx)("p",{className:"text-white",children:"Click to upload"})})})]})]}),(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("button",{type:"button",onClick:O,disabled:j,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed w-full md:w-auto",children:j?"Processing...":"Generate Try-On Result"}),(0,r.jsx)("button",{type:"button",onClick:E,disabled:j,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed w-full md:w-auto",children:j?"Analyzing...":"Analyze Fit"})]}),(0,r.jsxs)("p",{className:"text-sm mt-2 text-center text-white",children:["You have used ",S," out of 3 try-ons this month."]}),P&&(0,r.jsx)("p",{className:"text-red-500 text-center mt-4",children:P})]}),N&&(0,r.jsxs)("div",{className:"mt-8 w-full max-w-4xl bg-white rounded-lg shadow-md p-8 space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-medium text-gray-800 text-center",children:"Step 2: Try-On Result"}),(0,r.jsx)("img",{src:N,alt:"Try-On Result",className:"rounded-lg shadow-md mx-auto max-h-96 object-contain"})]})]})}},4923:(e,t,s)=>{s.d(t,{T:()=>i,X:()=>a});var r=s(5155),l=s(2115);let n=(0,l.createContext)();function a(e){let{children:t}=e,[s,a]=(0,l.useState)(null);return(0,r.jsx)(n.Provider,{value:{matchingAnalysis:s,setMatchingAnalysis:a},children:t})}function i(){let e=(0,l.useContext)(n);if(!e)throw Error("useMatchingAnalysis must be used within a MatchingAnalysisProvider");return e}}}]);